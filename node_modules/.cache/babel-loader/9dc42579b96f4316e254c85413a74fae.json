{"ast":null,"code":"var path = require('path');\n\nmodule.exports = function (basedir, relfiles) {\n  if (relfiles) {\n    var files = relfiles.map(function (r) {\n      return path.resolve(basedir, r);\n    });\n  } else {\n    var files = basedir;\n  }\n\n  var res = files.slice(1).reduce(function (ps, file) {\n    if (!file.match(/^([A-Za-z]:)?\\/|\\\\/)) {\n      throw new Error('relative path without a basedir');\n    }\n\n    var xs = file.split(/\\/+|\\\\+/);\n\n    for (var i = 0; ps[i] === xs[i] && i < Math.min(ps.length, xs.length); i++) {\n      ;\n    }\n\n    return ps.slice(0, i);\n  }, files[0].split(/\\/+|\\\\+/)); // Windows correctly handles paths with forward-slashes\n\n  return res.length > 1 ? res.join('/') : '/';\n};","map":null,"metadata":{},"sourceType":"module"}