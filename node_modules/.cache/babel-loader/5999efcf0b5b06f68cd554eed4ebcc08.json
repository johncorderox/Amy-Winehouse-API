{"ast":null,"code":"\"use strict\";\n\nvar errorMessage = function errorMessage(schema, data, message) {\n  return {\n    keyword: \"absolutePath\",\n    params: {\n      absolutePath: data\n    },\n    message: message,\n    parentSchema: schema\n  };\n};\n\nvar getErrorFor = function getErrorFor(shouldBeAbsolute, data, schema) {\n  var message = shouldBeAbsolute ? \"The provided value \".concat(JSON.stringify(data), \" is not an absolute path!\") : \"A relative path is expected. However, the provided value \".concat(JSON.stringify(data), \" is an absolute path!\");\n  return errorMessage(schema, data, message);\n};\n\nmodule.exports = function (ajv) {\n  return ajv.addKeyword(\"absolutePath\", {\n    errors: true,\n    type: \"string\",\n    compile: function compile(expected, schema) {\n      function callback(data) {\n        var passes = true;\n        var isExclamationMarkPresent = data.includes(\"!\");\n\n        if (isExclamationMarkPresent) {\n          callback.errors = [errorMessage(schema, data, \"The provided value \".concat(JSON.stringify(data), \" contains exclamation mark (!) which is not allowed because it's reserved for loader syntax.\"))];\n          passes = false;\n        } // ?:[A-Za-z]:\\\\ - Windows absolute path\n        // \\\\\\\\ - Windows network absolute path\n        // \\/ - Unix-like OS absolute path\n\n\n        var isCorrectAbsolutePath = expected === /^(?:[A-Za-z]:\\\\|\\\\\\\\|\\/)/.test(data);\n\n        if (!isCorrectAbsolutePath) {\n          callback.errors = [getErrorFor(expected, data, schema)];\n          passes = false;\n        }\n\n        return passes;\n      }\n\n      callback.errors = [];\n      return callback;\n    }\n  });\n};","map":null,"metadata":{},"sourceType":"module"}